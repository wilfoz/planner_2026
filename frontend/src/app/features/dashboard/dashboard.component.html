<div class="px-4 sm:px-6 lg:px-8 py-8 space-y-8">

  <!-- Work Header -->
  <div class="border-b border-gray-700 pb-5 flex items-center justify-between">
    <div>
      <h2 class="text-3xl font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-emerald-400 to-cyan-500">
        {{ currentWork()?.name || 'Project Dashboard' }}
      </h2>
      <p class="mt-2 text-sm text-gray-400">
        {{ currentWork()?.id ? 'Project ID: ' + currentWork()?.id?.substring(0,8) : 'Select a project to view details' }}
      </p>
    </div>
    <div class="flex gap-3">
      <a routerLink="/" 
        class="inline-flex items-center justify-center rounded-lg bg-[#27272a] p-3 text-gray-300 hover:bg-[#3f3f46] hover:text-white border border-[#3f3f46] transition-colors shadow-sm"
        title="Home">
        <lucide-icon [img]="Home" class="h-5 w-5"></lucide-icon>
      </a>
      <a routerLink="/map" 
        class="inline-flex items-center justify-center rounded-lg bg-emerald-600 p-3 text-white hover:bg-emerald-700 transition-colors shadow-sm"
        title="Mapa">
        <lucide-icon [img]="Map" class="h-5 w-5"></lucide-icon>
      </a>
    </div>
  </div>

  <!-- Stats Cards -->
  <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
    <!-- Card 1: Progress -->
    <div class="bg-[#18181b] p-6 rounded-lg border border-[#27272a] shadow-sm">
      <div class="flex items-center justify-between">
        <div>
          <p class="text-sm text-gray-400 font-medium">Progress</p>
          <p class="text-3xl font-bold text-white mt-2">{{ percentExecuted() }}%</p>
        </div>
        <div class="p-3 bg-emerald-500/10 rounded-full text-emerald-500">
          <lucide-icon [img]="TrendingUp" class="h-6 w-6"></lucide-icon>
        </div>
      </div>
      <div class="w-full bg-gray-700 h-1.5 mt-4 rounded-full overflow-hidden">
        <div class="bg-emerald-500 h-full rounded-full transition-all duration-500" [style.width.%]="percentExecuted()">
        </div>
      </div>
    </div>

    <!-- Card 2: Executed -->
    <div class="bg-[#18181b] p-6 rounded-lg border border-[#27272a] shadow-sm">
      <div class="flex items-center justify-between">
        <div>
          <p class="text-sm text-gray-400 font-medium">Executed</p>
          <p class="text-3xl font-bold text-white mt-2">{{ executed() }}</p>
        </div>
        <div class="p-3 bg-emerald-500/10 rounded-full text-emerald-500">
          <lucide-icon [img]="CheckCircle" class="h-6 w-6"></lucide-icon>
        </div>
      </div>
      <p class="text-xs text-gray-500 mt-2">Completed productions</p>
    </div>

    <!-- Card 3: Programmed -->
    <div class="bg-[#18181b] p-6 rounded-lg border border-[#27272a] shadow-sm">
      <div class="flex items-center justify-between">
        <div>
          <p class="text-sm text-gray-400 font-medium">Programmed</p>
          <p class="text-3xl font-bold text-white mt-2">{{ programmed() }}</p>
        </div>
        <div class="p-3 bg-blue-500/10 rounded-full text-blue-500">
          <lucide-icon [img]="Clock" class="h-6 w-6"></lucide-icon>
        </div>
      </div>
      <p class="text-xs text-gray-500 mt-2">Scheduled productions</p>
    </div>

    <!-- Card 4: In Progress -->
    <div class="bg-[#18181b] p-6 rounded-lg border border-[#27272a] shadow-sm">
      <div class="flex items-center justify-between">
        <div>
          <p class="text-sm text-gray-400 font-medium">In Progress</p>
          <p class="text-3xl font-bold text-white mt-2">{{ inProgress() }}</p>
        </div>
        <div class="p-3 bg-amber-500/10 rounded-full text-amber-500">
          <lucide-icon [img]="AlertCircle" class="h-6 w-6"></lucide-icon>
        </div>
      </div>
      <p class="text-xs text-gray-500 mt-2">Currently active</p>
    </div>
  </div>

  <!-- Charts -->
  <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
    <!-- Line Chart -->
    <div class="bg-[#18181b] p-6 rounded-lg border border-[#27272a] shadow-sm">
      <h3 class="text-lg font-semibold text-white mb-6">Production History (Daily)</h3>
      <div class="relative h-64 md:h-80">
        <canvas baseChart [data]="lineChartData()" [options]="lineChartOptions" [type]="lineChartType">
        </canvas>
      </div>
    </div>

    <!-- Bar Chart -->
    <div class="bg-[#18181b] p-6 rounded-lg border border-[#27272a] shadow-sm">
      <h3 class="text-lg font-semibold text-white mb-6">Production Status</h3>
      <div class="relative h-64 md:h-80">
        <canvas baseChart [data]="barChartData()" [options]="barChartOptions" [type]="barChartType">
        </canvas>
      </div>
    </div>
  </div>

</div>