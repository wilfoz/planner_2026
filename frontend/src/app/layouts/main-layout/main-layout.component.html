<div class="test-class-check min-h-full">
  <!-- Off-canvas menu for mobile -->
  @if (isSidebarOpen()) {
  <div class="relative z-40 md:hidden" role="dialog" aria-modal="true">
    <div class="fixed inset-0 bg-gray-600 bg-opacity-75 transition-opacity"></div>
    <div class="fixed inset-0 z-40 flex">
      <div class="relative flex w-full max-w-xs flex-1 flex-col bg-slate-900 pt-5 pb-4">
        <div class="absolute top-0 right-0 -mr-12 pt-2">
          <button type="button"
            class="ml-1 flex h-10 w-10 items-center justify-center rounded-full focus:outline-none focus:ring-2 focus:ring-inset focus:ring-white"
            (click)="toggleSidebar()">
            <span class="sr-only">Close sidebar</span>
            <lucide-icon [img]="CloseIcon" class="h-6 w-6 text-white"></lucide-icon>
          </button>
        </div>
        <div class="flex flex-shrink-0 items-center px-4">
          <h1 class="text-xl font-bold text-white">LT-PLANNER</h1>
        </div>
        <div class="mt-5 h-0 flex-1 overflow-y-auto">
          <nav class="space-y-1 px-2">
            <a routerLink="/dashboard" routerLinkActive="bg-slate-800 text-white"
              class="text-slate-300 hover:bg-slate-800 hover:text-white group flex items-center px-2 py-2 text-base font-medium rounded-md">
              <lucide-icon [img]="DashboardIcon"
                class="mr-4 h-6 w-6 flex-shrink-0 text-slate-400 group-hover:text-slate-300"></lucide-icon>
              Dashboard
            </a>

            <a routerLink="/employees" routerLinkActive="bg-slate-800 text-white"
              class="text-slate-300 hover:bg-slate-800 hover:text-white group flex items-center px-2 py-2 text-base font-medium rounded-md">
              <lucide-icon [img]="EmployeesIcon"
                class="mr-4 h-6 w-6 flex-shrink-0 text-slate-400 group-hover:text-slate-300"></lucide-icon>
              Funcionários
            </a>
            <a routerLink="/equipments" routerLinkActive="bg-slate-800 text-white"
              class="text-slate-300 hover:bg-slate-800 hover:text-white group flex items-center px-2 py-2 text-base font-medium rounded-md">
              <lucide-icon [img]="EquipmentsIcon"
                class="mr-4 h-6 w-6 flex-shrink-0 text-slate-400 group-hover:text-slate-300"></lucide-icon>
              Equipamentos
            </a>
            <a routerLink="/teams" routerLinkActive="bg-slate-800 text-white"
              class="text-slate-300 hover:bg-slate-800 hover:text-white group flex items-center px-2 py-2 text-base font-medium rounded-md">
              <lucide-icon [img]="TeamsIcon"
                class="mr-4 h-6 w-6 flex-shrink-0 text-slate-400 group-hover:text-slate-300"></lucide-icon>
              Equipes
            </a>
            <a routerLink="/towers" routerLinkActive="bg-slate-800 text-white"
              class="text-slate-300 hover:bg-slate-800 hover:text-white group flex items-center px-2 py-2 text-base font-medium rounded-md">
              <lucide-icon [img]="TowersIcon"
                class="mr-4 h-6 w-6 flex-shrink-0 text-slate-400 group-hover:text-slate-300"></lucide-icon>
              Torres
            </a>
            <a routerLink="/foundations" routerLinkActive="bg-slate-800 text-white"
              class="text-slate-300 hover:bg-slate-800 hover:text-white group flex items-center px-2 py-2 text-base font-medium rounded-md">
              <lucide-icon [img]="FoundationsIcon"
                class="mr-4 h-6 w-6 flex-shrink-0 text-slate-400 group-hover:text-slate-300"></lucide-icon>
              Fundações
            </a>
            <a routerLink="/tasks" routerLinkActive="bg-slate-800 text-white"
              class="text-slate-300 hover:bg-slate-800 hover:text-white group flex items-center px-2 py-2 text-base font-medium rounded-md">
              <lucide-icon [img]="TasksIcon"
                class="mr-4 h-6 w-6 flex-shrink-0 text-slate-400 group-hover:text-slate-300"></lucide-icon>
              Tarefas
            </a>
            <a routerLink="/productions" routerLinkActive="bg-slate-800 text-white"
              class="text-slate-300 hover:bg-slate-800 hover:text-white group flex items-center px-2 py-2 text-base font-medium rounded-md">
              <lucide-icon [img]="ProductionsIcon"
                class="mr-4 h-6 w-6 flex-shrink-0 text-slate-400 group-hover:text-slate-300"></lucide-icon>
              Produções
            </a>
            <a routerLink="/reports/rdpp" routerLinkActive="bg-slate-800 text-white"
              class="text-slate-300 hover:bg-slate-800 hover:text-white group flex items-center px-2 py-2 text-base font-medium rounded-md">
              <lucide-icon [img]="ReportsIcon"
                class="mr-4 h-6 w-6 flex-shrink-0 text-slate-400 group-hover:text-slate-300"></lucide-icon>
              Relatórios: RDPP
            </a>
          </nav>
        </div>
      </div>
    </div>
  </div>
  }

  <!-- Static sidebar for desktop -->
  <div class="hidden md:fixed md:inset-y-0 md:flex md:w-64 md:flex-col border-r border-[#27272a]">
    <div class="flex min-h-0 flex-1 flex-col bg-[#18181b]">
      <div class="flex flex-shrink-0 items-center h-16 px-4 bg-[#18181b]">
        <h1 class="text-xl font-bold text-white tracking-wider">LT-PLANNER</h1>
      </div>
      <div class="flex flex-1 flex-col overflow-y-auto">
        <nav class="flex-1 space-y-1 px-2 py-4">
          <a routerLink="/dashboard" routerLinkActive="bg-slate-800 text-white"
            class="text-slate-300 hover:bg-slate-800 hover:text-white group flex items-center px-2 py-2 text-sm font-medium rounded-md transition-colors">
            <lucide-icon [img]="DashboardIcon"
              class="mr-3 h-5 w-5 flex-shrink-0 text-slate-400 group-hover:text-slate-300"></lucide-icon>
            Dashboard
          </a>


          <div class="mt-8">
            <h3 class="px-3 text-xs font-semibold text-slate-500 uppercase tracking-wider">Recursos</h3>
            <div class="mt-1 space-y-1">
              <a routerLink="/employees" routerLinkActive="bg-slate-800 text-white"
                class="text-slate-300 hover:bg-slate-800 hover:text-white group flex items-center px-2 py-2 text-sm font-medium rounded-md transition-colors">
                <lucide-icon [img]="EmployeesIcon"
                  class="mr-3 h-5 w-5 flex-shrink-0 text-slate-400 group-hover:text-slate-300"></lucide-icon>
                Funcionários
              </a>
              <a routerLink="/equipments" routerLinkActive="bg-slate-800 text-white"
                class="text-slate-300 hover:bg-slate-800 hover:text-white group flex items-center px-2 py-2 text-sm font-medium rounded-md transition-colors">
                <lucide-icon [img]="EquipmentsIcon"
                  class="mr-3 h-5 w-5 flex-shrink-0 text-slate-400 group-hover:text-slate-300"></lucide-icon>
                Equipamentos
              </a>
              <a routerLink="/teams" routerLinkActive="bg-slate-800 text-white"
                class="text-slate-300 hover:bg-slate-800 hover:text-white group flex items-center px-2 py-2 text-sm font-medium rounded-md transition-colors">
                <lucide-icon [img]="TeamsIcon"
                  class="mr-3 h-5 w-5 flex-shrink-0 text-slate-400 group-hover:text-slate-300"></lucide-icon>
                Equipes
              </a>
            </div>
          </div>

          <div class="mt-8">
            <h3 class="px-3 text-xs font-semibold text-slate-500 uppercase tracking-wider">Estrutura</h3>
            <div class="mt-1 space-y-1">
              <a routerLink="/towers" routerLinkActive="bg-slate-800 text-white"
                class="text-slate-300 hover:bg-slate-800 hover:text-white group flex items-center px-2 py-2 text-sm font-medium rounded-md transition-colors">
                <lucide-icon [img]="TowersIcon"
                  class="mr-3 h-5 w-5 flex-shrink-0 text-slate-400 group-hover:text-slate-300"></lucide-icon>
                Torres
              </a>
              <a routerLink="/foundations" routerLinkActive="bg-slate-800 text-white"
                class="text-slate-300 hover:bg-slate-800 hover:text-white group flex items-center px-2 py-2 text-sm font-medium rounded-md transition-colors">
                <lucide-icon [img]="FoundationsIcon"
                  class="mr-3 h-5 w-5 flex-shrink-0 text-slate-400 group-hover:text-slate-300"></lucide-icon>
                Fundações
              </a>
            </div>
          </div>

          <div class="mt-8">
            <h3 class="px-3 text-xs font-semibold text-slate-500 uppercase tracking-wider">Produção</h3>
            <div class="mt-1 space-y-1">
              <a routerLink="/tasks" routerLinkActive="bg-slate-800 text-white"
                class="text-slate-300 hover:bg-slate-800 hover:text-white group flex items-center px-2 py-2 text-sm font-medium rounded-md transition-colors">
                <lucide-icon [img]="TasksIcon"
                  class="mr-3 h-5 w-5 flex-shrink-0 text-slate-400 group-hover:text-slate-300"></lucide-icon>
                Tarefas
              </a>
              <a routerLink="/productions" routerLinkActive="bg-slate-800 text-white"
                class="text-slate-300 hover:bg-slate-800 hover:text-white group flex items-center px-2 py-2 text-sm font-medium rounded-md transition-colors">
                <lucide-icon [img]="ProductionsIcon"
                  class="mr-3 h-5 w-5 flex-shrink-0 text-slate-400 group-hover:text-slate-300"></lucide-icon>
                Produções
              </a>
            </div>
          </div>

          <div class="mt-8">
            <h3 class="px-3 text-xs font-semibold text-slate-500 uppercase tracking-wider">Relatórios</h3>
            <div class="mt-1 space-y-1">
              <a routerLink="/reports/rdpp" routerLinkActive="bg-slate-800 text-white"
                class="text-slate-300 hover:bg-slate-800 hover:text-white group flex items-center px-2 py-2 text-sm font-medium rounded-md transition-colors">
                <lucide-icon [img]="ReportsIcon"
                  class="mr-3 h-5 w-5 flex-shrink-0 text-slate-400 group-hover:text-slate-300"></lucide-icon>
                RDPP
              </a>
            </div>
          </div>
        </nav>
      </div>
      <div class="flex flex-shrink-0 bg-slate-800 p-4">
        <div class="group block w-full flex-shrink-0">
          <div class="flex items-center">
            <div class="ml-3">
              <p class="text-sm font-medium text-white">{{ currentUser()?.name || 'User' }}</p>
              <p class="text-xs font-medium text-slate-300 group-hover:text-slate-200">View profile</p>
            </div>
            <button (click)="logout()" class="ml-auto flex-shrink-0 text-slate-400 hover:text-white" title="Logout">
              <lucide-icon [img]="LogoutIcon" class="h-5 w-5"></lucide-icon>
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="flex flex-1 flex-col md:pl-64">
    <div class="sticky top-0 z-10 bg-[#18181b] border-b border-[#27272a] md:hidden">
      <div class="flex h-16 items-center justify-between px-4 sm:px-6">
        <button type="button"
          class="-ml-0.5 -mt-0.5 inline-flex h-12 w-12 items-center justify-center rounded-md text-gray-400 hover:text-white focus:outline-none focus:ring-2 focus:ring-inset focus:ring-indigo-500"
          (click)="toggleSidebar()">
          <span class="sr-only">Open sidebar</span>
          <lucide-icon [img]="MenuIcon" class="h-6 w-6"></lucide-icon>
        </button>
        <h1 class="text-xl font-bold text-white">LT-PLANNER</h1>
        <div class="w-6"></div>
      </div>
    </div>

    <main class="flex-1">
      <div class="py-6">
        <router-outlet></router-outlet>
      </div>
    </main>
  </div>
</div>